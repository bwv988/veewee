Vagrant.configure("2") do |config|
  # This Vagrantfile is auto-generated by `vagrant package` to contain
  # the MAC address of the box. Custom configuration should be placed in
  # the actual `Vagrantfile` in this box.
  config.vm.base_mac = "<%= macaddress %>"

  # Port Forwarding rules
  <% for rule in rules %>
  config.vm.network "forwarded_port", guest: <%=rule['guest_port']%>, host: <%=rule['host_port']%>
  <% end %>
end

# Load include vagrant file if it exists after the auto-generated
# so it can override any of the settings
include_vagrantfile = File.expand_path("../include/_Vagrantfile", __FILE__)
load include_vagrantfile if File.exist?(include_vagrantfile)
